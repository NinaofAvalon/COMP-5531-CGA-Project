create database project;
use project;

CREATE TABLE `users` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_username` varchar(100) NOT NULL,
  `user_password` varchar(100) NOT NULL,
  `user_email` varchar(100) DEFAULT NULL,
  `user_phone` varchar(100) DEFAULT NULL,
  `user_address` varchar(100) DEFAULT NULL,
  `user_permisiion` varchar(100) NOT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `user_username` (`user_username`)
  -- accept null value but no duplicate
) ENGINE=InnoDB AUTO_INCREMENT=1006 DEFAULT CHARSET=latin1;



-- CGA.admins definition

CREATE TABLE `admins` (
  `admin_id` int(11) NOT NULL AUTO_INCREMENT,
  `admin_phone` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`admin_id`),
  CONSTRAINT `admins_fk` FOREIGN KEY (`admin_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1002 DEFAULT CHARSET=latin1;


-- CGA.group definition

CREATE TABLE `group` (
  `group_id` int(11) NOT NULL,
  `group_name` varchar(100) DEFAULT NULL,
  `leader_id` int(11) NOT NULL,
  PRIMARY KEY (`group_id`),
  KEY `leader_id_fk` (`leader_id`),
  CONSTRAINT `leader_id_fk` FOREIGN KEY (`leader_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- CGA.instructor definition

CREATE TABLE `instructor` (
  `instructor_id` int(11) NOT NULL,
  `instructor_name` varchar(100) DEFAULT NULL,
  `instructor_course` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`instructor_id`),
  KEY `instructor_id_fk` (`instructor_id`),
  CONSTRAINT `instructor_id_fk` FOREIGN KEY (`instructor_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


CREATE TABLE `TA` (
  `TA_id` int(11) NOT NULL,
  `TA_name` varchar(100) DEFAULT NULL,
  `TA_group` varchar(100) DEFAULT NULL,
  -- assign TA to the group 
  PRIMARY KEY (`TA_id`),
  KEY `TA_id_fk` (`TA_id`),
  CONSTRAINT `TA_id_fk` FOREIGN KEY (`TA_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;





-- CGA.job definition
-- record all jobs 

CREATE TABLE `job` (
  `job_id` int(11) NOT NULL AUTO_INCREMENT,
  `job_name` varchar(100) NOT NULL,
  `job_user_id` int(11) NOT NULL, -- who did this job
  `job_time` date NOT NULL, -- when this job happen
  `job_content` varchar(100) NOT NULL, -- discusstions and conments
  PRIMARY KEY (`job_id`),
  KEY `job_fk` (`job_id`),
  CONSTRAINT `job_id_fk` FOREIGN KEY (`job_user_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1001 DEFAULT CHARSET=latin1;


-- CGA.jobtype definition

CREATE TABLE `jobs_type` (
  `job_id` int(11) NOT NULL AUTO_INCREMENT,
  `job_type` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`job_id`),
  KEY `jobs_id_fk` (`job_id`),
  CONSTRAINT `obs_id_fk` FOREIGN KEY (`job_id`) REFERENCES `job` (`job_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1013 DEFAULT CHARSET=latin1;






CREATE TABLE `course` (
  `course_id` int(11) NOT NULL AUTO_INCREMENT,
  `course_name` varchar(100) NOT NULL,
  `course_instructor_id` int(11) NOT NULL,
  `course_TA_id` int(11) NOT NULL,
  `course_section` varchar(100) NOT NULL,
  `course_term` varchar(100) NOT NULL,
  PRIMARY KEY (`course_id`),
  KEY `course_fk` (`course_instructor_id`),
  CONSTRAINT `z_payment_methods_fk` FOREIGN KEY (`course_instructor_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1036 DEFAULT CHARSET=latin1;


-- CGA.student definition

CREATE TABLE `student` (
  `student_id` int(11) NOT NULL AUTO_INCREMENT,
  `studnet_name` varchar(100) NOT NULL,
  `enroll_course_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL, -- which group this student belong to 
  PRIMARY KEY (`student_id`),
  KEY `enroll_course_id_fk,` (`enroll_course_id`),
  CONSTRAINT `enroll_course_id_fk` FOREIGN KEY (`enroll_course_id`) REFERENCES `course` (`course_id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=1001 DEFAULT CHARSET=latin1;




